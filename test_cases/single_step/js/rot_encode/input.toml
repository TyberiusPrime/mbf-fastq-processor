[input]
    read1 = 'input_read1.fq'

[[step]]
    action = 'Head'
    n = 2

[[step]]
    action = 'JavaScript'
    code = '''
function process_reads(reads, tags) {
    // ROT-encode: A->C, C->G, G->T, T->A (shift bases forward)
    let rot = {
        'A': 'C', 'C': 'G', 'G': 'T', 'T': 'A',
        'a': 'c', 'c': 'g', 'g': 't', 't': 'a',
        'N': 'N', 'n': 'n'
    };
    let lengths = [];
    for (let read of reads) {
        read.seq = read.seq.split('').map(function(b) { return rot[b] || b; }).join('');
        lengths.push(read.seq.length);
    }
    return lengths;
}
'''
    out_label = 'seq_length'
    out_type = 'Numeric'

[[step]]
    action = 'StoreTagInComment'
    in_label = 'seq_length'

[output]
    prefix = 'output'
