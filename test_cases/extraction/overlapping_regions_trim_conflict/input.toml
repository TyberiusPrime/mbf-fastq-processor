[input]
    read1 = 'input_read1.fq'

[[step]]
    action = 'Head'
    n = 4

# Extract first region (positions 2-5) - this will be "tag1"
[[step]]
    action = 'ExtractRegions'
    label = 'tag1'
    regions = [{segment = 'read1', start = 2, length = 4}]

# Extract second region (positions 4-7) - overlaps with tag1 at positions 4-5
[[step]]
    action = 'ExtractRegions' 
    label = 'tag2'
    regions = [{segment = 'read1', start = 4, length = 4}]

# Store both tags in table before trimming
[[step]]
    action = 'StoreTagsInTable'
    table_filename = 'tags_before_trim.tsv'

# Trim at tag1 start, which should invalidate tag2's original positions
[[step]]
    action = 'TrimAtTag'
    label = 'tag1'
    direction = 'Start'
    keep_tag = false

# Store tags in table after trimming - they're still there because we have captured their sequenc
[[step]]
    action = 'StoreTagsInTable'
    table_filename = 'tags_after_trim.tsv'


[[step]]
	action = "LowercaseTag"
	label = "tag2"

[[step]]
	action = "StoreTagInSequence"
	ignore_missing = false
	label = "tag2"

[output]
    prefix = 'output'
