[input]
    read1 = 'input_read1.fq'

# Create ExtractRegions with multiple regions at different positions
# The leftmost should be at position 5, but we'll have regions later as well  
[[step]]
    action = 'ExtractRegions'
    regions = [
        {segment = "read1", start = 10, length = 4},  # This is later
        {segment = "read1", start = 5, length = 3},   # This is the leftmost (should be used as anchor)
        {segment = "read1", start = 15, length = 2},  # This is even later
    ]
    out_label = 'anchor_tag'

# ExtractAnchor should use position 5 (leftmost) as the anchor
# and extract relative to that position
[[step]]
    action = 'ExtractAnchor'
    in_label = 'anchor_tag'
    regions = [[0, 3], [10, 2]]  # Extract from anchor position and 10 bases after
    out_label = 'test'
    region_separator = 'X'

[[step]]
    action = 'FilterByTag'
    in_label = 'test'
    keep_or_remove = 'Keep'

[[step]]
    action = 'StoreTagLocationInComment'
    in_label = 'test'

[[step]]
    action = 'StoreTagInComment'
    in_label = 'test'

[output]
    prefix = 'expected_output'
